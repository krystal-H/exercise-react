(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{R4Qp:function(e,t,a){"use strict";a.r(t);a("pNMO"),a("4Brf"),a("0oug"),a("TeQF"),a("4mDm"),a("+2oP"),a("5DmW"),a("27RR"),a("tkto"),a("07d7"),a("PKPk"),a("FZtP"),a("3bBZ"),a("L/Qf");var n=a("2/Rp"),r=(a("1vPl"),a("5rEg")),c=(a("tULf"),a("Vl3Y")),l=(a("mbEz"),a("wCAj")),i=(a("2oDE"),a("CtXQ")),o=(a("8QGh"),a("2fM7")),u=a("q1tI"),s=a.n(u),d=a("DgvE"),m=a("Nlzp"),v=a("yqJg"),f=a("MeRu");a("36rt");function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(a,!0).forEach(function(t){y(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,r=!1,c=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,c=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var b=o.a.Option,h={pageRows:10,pageIndex:1};t.default=function(e){var t=g(Object(u.useState)({}),2),a=t[0],n=t[1],r=g(Object(u.useState)({pager:{},list:[]}),2),c=r[0],o=r[1],p=g(Object(u.useState)([]),2),y=p[0],b=p[1];Object(u.useEffect)(function(){console.log("useEffect"),O(),D(h)},[]);var O=function(){Object(m.c)(m.a.getStatistics,{loading:!0}).then(function(e){var t=e.code,a=e.data;t===v.a&&n(a)})},D=function(e){Object(m.c)(m.a.getSeniorDeviceList,e,{loading:!0}).then(function(e){var t=e.code,a=e.data;t===v.a&&o(a)})},S=function(){var e=c.list.slice();return e.forEach(function(e,t){e.key=e.id}),{antDSeniorDeviceList:e,columns:[{title:"设备ID",dataIndex:"id",key:"id"},{title:"设备秘钥",dataIndex:"deviceSecret",key:"deviceSecret",render:function(e,t,a){var n=y[a]?"eye-invisible":"eye",r=y[a]?e:Object(d.r)(e,10);return s.a.createElement("div",null,s.a.createElement("span",{key:"detail"},r),s.a.createElement(i.a,{type:n,style:{fontSize:"18px",marginLeft:"6px"},theme:"twoTone",twoToneColor:"#2874FF",onClick:function(){return function(e){var t=y.slice();t[e]=!t[e],b(t)}(a)}}))}},{title:"物理地址",dataIndex:"physicalAddr",key:"physicalAddr"},{title:"产品名称",dataIndex:"productName",key:"productName"},{title:"入网状态",dataIndex:"status",key:"status",render:function(e){var t={color:"#FF2E00",marginRight:"10px"},a="未知状态";return 0===e?(t.color="#FF2E00",a="未入网"):1===e?(t.color="#00B72E",a="已入网"):2===e&&(t.color="#f5ad05",a="烧录中"),s.a.createElement("div",null,s.a.createElement("span",{style:t},"●"),s.a.createElement("span",null,a))}},{title:"入网时间",dataIndex:"activeTime",key:"activeTime",render:function(e){return e?d.a.utcToDev(e):"--"}}]}}(),k=S.antDSeniorDeviceList,x=S.columns,N=c.pager;return s.a.createElement("section",{className:"device-secret-wrapper flex-column"},s.a.createElement("div",{className:"device-secret-header"},s.a.createElement(f.a,{noback:!0,title:"通用设备密钥管理"}),s.a.createElement("div",{className:"device-secret-statistic clearfix"},s.a.createElement("div",{className:"common-id"},s.a.createElement("div",null,"通用ID/密钥对"),s.a.createElement("div",null,a.total)),s.a.createElement("div",{className:"used"},s.a.createElement("div",null,"已烧录使用"),s.a.createElement("div",null,a.burn)),s.a.createElement("div",{className:"register"},s.a.createElement("div",null,"已入网设备"),s.a.createElement("div",null,a.activate)),s.a.createElement("div",{className:"unregistered"},s.a.createElement("div",null,"未入网设备"),s.a.createElement("div",null,a.unactivate)))),s.a.createElement("div",{className:"device-secret-content-wrapper flex1"},s.a.createElement("div",{className:"device-secret-content"},s.a.createElement("h4",null,"设备列表"),s.a.createElement(w,{getSeniorDeviceList:D}),s.a.createElement(l.a,{className:"content",dataSource:k,columns:x,pagination:{onChange:function(e){D(E({},h,{pageIndex:e}))},defaultCurrent:1,current:N.pageIndex,pageSize:N.pageRows,total:N.totalRows,showQuickJumper:!0}}))))};var w=c.a.create({name:"deviceSearch"})(function(e){var t=e.form.getFieldDecorator;return s.a.createElement(c.a,{layout:"inline",className:"search-form",onSubmit:function(t){t.preventDefault();var a=e.form.validateFieldsAndScroll,n=e.getSeniorDeviceList;a(function(e,t){if(!e){console.log("Received values of form: ",t);var a=E({},h);t.id&&(a.id=t.id),(t.status||0===t.status)&&(a.status=t.status),t.productName&&(a.productName=t.productName),n(a)}})}},s.a.createElement(c.a.Item,{label:"",colon:!1,style:{marginRight:0}},t("status",{initialValue:""})(s.a.createElement(o.a,{style:{width:"150px"},optionFilterProp:"children"},s.a.createElement(b,{key:"allStatus",value:""},"全部状态"),s.a.createElement(b,{key:"unRegistered",value:0},"未入网"),s.a.createElement(b,{key:"register",value:1},"已入网")))),s.a.createElement(c.a.Item,{label:"",colon:!1},t("id",{rules:[{max:100,message:"最多可以输入100个字符"}]})(s.a.createElement(r.a,{placeholder:"请输入设备ID号"}))),s.a.createElement(c.a.Item,{label:"产品名称"},t("productName",{rules:[{max:100,message:"最多可以输入100个字符"}]})(s.a.createElement(r.a,{placeholder:"请输入产品名称"}))),s.a.createElement(c.a.Item,{label:""},s.a.createElement(n.a,{type:"primary",htmlType:"submit"},"查询")))})},yqJg:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n=0}}]);